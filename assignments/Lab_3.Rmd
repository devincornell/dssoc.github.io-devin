---
title: "Lab #3: Data Visualization"
author: "Data Science and Society (Sociology 367)"
date: ""
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

**[Lab #3 Markdown File](/assignments/Lab_3.Rmd)**

**[Lab Instructions](https://dssoc.github.io/assignments/lab_instructions.html)**

In this lab we will practice using the `ggplot2` library to create visualizations of our data. **Our standard for visualizations is that each plot should have axis labels, all labels must be readable to someone unfamiliar with your data (e.g. Female and Male instead of `F` and `M`, Senator and Representative instead of `rep` and `sen`), and we should easily be able to tell what your figure is showing. Failure to do this will result in point deductions.**

See the "Instructions" section of the [Introduction to Lab Assignments](https://dssoc.github.io/assignments/lab_instructions.html) page for more information about the labs. That page also gives descriptions for the datasets we will be using.

**Required reading:** 

* [R for Data Science Chapter 13: Relational data](https://r4ds.had.co.nz/relational-data.html)
* [R for Data Science Chapter 3: Data visualization](https://r4ds.had.co.nz/data-visualisation.html)
* [R for Data Science Chapter 28: Graphics for communication](https://r4ds.had.co.nz/graphics-for-communication.html)


**Optional resources:**

* [R for Data Science Chapter 16: Dates and times](https://r4ds.had.co.nz/dates-and-times.html)



```{r message=FALSE, echo=FALSE}
# Load the datasets and libraries. You shouldn't need to change the URL in the `load` function.

library(tidyverse)
library(ggplot2)
library(lubridate)

load(url('https://dssoc.github.io/datasets/congress.RData'))
load(url('https://dssoc.github.io/datasets/committees.RData'))
```
<br/>

## Questions
<br>

**1. Describe the functionality of each of the following functions:**
```
group_by: 
summarise: 
inner_join: 
left_join: 
ggplot: 
```
<br/>

**2. Create a bar plot to show the average ages of democrat and republican congress members. Now do the same for M and F genders (this second part should include members of all parties).**
```{r}
# your answer here
```
<br/>


**3. Create a line graph showing the total number of politician births in each decade since the 1930's, with separate lines for senate and house members (see the `type` column). The labels on your x-axis should look like "1930's", "1940's", and so on, and your legend should show names "Senator" and "Representative" (i.e. not `rep` and `sen`).**

Note: The plotted lines may not be continuous if there were no births in some decades.
```{r}
# your answer here
```
<br/>

**4. Create a bar chart showing the frequency of politician births and deaths by weekday. For convenience, I have already parsed the `birthdate` column into a `date` type, so you'll just need to extract the day of week using `lubridate` methods. The plot should make it easy to compare births vs deaths in a given weekday, and the x-labels should be weekday names and appear in chronological order.**

HINT: you should use a grouped bar chart to convey this information. See [this example](https://www.r-graph-gallery.com/48-grouped-barplot-with-ggplot2.html).
```{r}
# your answer here
```
<br/>


**5. Use an inner join to combine the columns of the `congress` dataframe with the columns of `congress_contacts`, and show the average number of valid Twitter, Facebook, and YouTube social media accounts among both Democrats and Republicans as a bar chart. Do the same for F and M genders.**

HINT: you will want to join the dataframes based on a column that is common to both datasets.

HINT: there are several ways to accomplish the counting of social media accounts. You could use `gather` again and then `group_by` and `summarise` within politician and then within party, or you could use `mutate` to get counts for each politican and then average by party. Any other approach is also fine.
```{r}
# your answer here
```
<br/>


**6. The remainder of problems in this homework will involve the use of the `committees.RData` dataset. You should refer to the Lab Instructions page for more information about this dataset. Create a plot showing the average number of subcommittees that F and M genders belong to. Then create a plot showing the total number of subcommittees that members of each political party belong to.**

HINT: as described in the Lab Instructions page, you will need to perform a join between the `subcommittees` and `committee_memberships` dataframes to get ONLY subcommittee (and not committee) memberships.
```{r}

```


**7. Create a bar plot showing the number of members that belong to the 5 largest congressional committees (i.e. committees with the largest number of members). The bars should be sorted based on committee sizes.**

NOTE: read the Lab Instructions page for more information about the standards for visualizations in this course.

HINT: you will need to join the `committee` and `committee_memberships` dataframes to get membership counts.
```{r}
# your answer here
```
<br/>


**8. Create a single bar plot that shows the average age of the committees with the 5 highest and lowest average ages. The bars should be sorted based on average committee ages. Which committees have the highest and lowest average ages?**

HINT: you will need to join three dataframes to get this information: `committee_memberships` (for membership information), `committees` (to separate committees from subcommittees), and `congress` (to get age information).
```{r}
# your answer here
```
<br/>

**9. Using the topics you described last week or a new topic you have been thinking about, describe two social science questions that you would be interested in exploring for your final project. Do you think these questions might be answerable using real data?**
```{r}
# your answer here
```
